<div class="p-6 bg-gray-50 min-h-full">
  
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
      <i class="fas fa-book mr-3 text-indigo-800"></i> Libros Contables
    </h2>
    
    <div class="bg-white rounded-lg shadow-sm p-1 border border-gray-200 inline-flex">
      <button (click)="activeBook = 'JOURNAL'" 
              [ngClass]="activeBook === 'JOURNAL' ? 'bg-indigo-100 text-indigo-800 font-bold' : 'text-gray-500 hover:text-gray-700'"
              class="px-4 py-2 rounded-md text-sm transition">
        Libro Diario
      </button>
      <button (click)="activeBook = 'LEDGER'" 
              [ngClass]="activeBook === 'LEDGER' ? 'bg-indigo-100 text-indigo-800 font-bold' : 'text-gray-500 hover:text-gray-700'"
              class="px-4 py-2 rounded-md text-sm transition">
        Libro Mayor
      </button>
    </div>
  </div>

  <div *ngIf="activeBook === 'JOURNAL'" class="space-y-6">
    @for (entry of journalEntries; track entry.id) {
      <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden">
        <div class="bg-gray-50 px-6 py-3 border-b border-gray-200 flex justify-between items-center">
          <div>
            <span class="font-mono font-bold text-indigo-700 mr-3">{{ entry.code }}</span>
            <span class="text-gray-700 font-medium">{{ entry.description }}</span>
          </div>
          <span class="text-sm text-gray-500">{{ entry.date | date:'longDate' }}</span>
        </div>
        
        <table class="min-w-full">
          <thead class="text-xs text-gray-400 uppercase bg-white">
            <tr>
              <th class="px-6 py-2 text-left font-light w-24">Cuenta</th>
              <th class="px-6 py-2 text-left font-light">Descripción Cuenta</th>
              <th class="px-6 py-2 text-right font-light w-32">Débito</th>
              <th class="px-6 py-2 text-right font-light w-32">Crédito</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100">
            @for (item of entry.items; track item.account) {
              <tr class="text-sm text-gray-700">
                <td class="px-6 py-2 font-mono">{{ item.account }}</td>
                <td class="px-6 py-2">{{ item.accountName }}</td>
                <td class="px-6 py-2 text-right" [class.text-gray-300]="item.debit === 0">
                  {{ item.debit | number:'1.2-2' }}
                </td>
                <td class="px-6 py-2 text-right" [class.text-gray-300]="item.credit === 0">
                  {{ item.credit | number:'1.2-2' }}
                </td>
              </tr>
            }
            <tr class="bg-indigo-50/30 font-bold text-gray-900 border-t border-indigo-100">
              <td colspan="2" class="px-6 py-2 text-right text-xs uppercase tracking-wide">Total Asiento</td>
              <td class="px-6 py-2 text-right">{{ 1160.00 | number:'1.2-2' }}</td> <td class="px-6 py-2 text-right">{{ 1160.00 | number:'1.2-2' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    }
  </div>

  <div *ngIf="activeBook === 'LEDGER'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    @for (account of ledgerAccounts; track account.code) {
      <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
        <div class="bg-gray-100 px-4 py-2 border-b border-gray-200 flex justify-between items-center">
          <span class="font-bold text-gray-800">{{ account.code }} - {{ account.name }}</span>
          <span class="text-xs bg-white border border-gray-300 px-2 py-0.5 rounded text-gray-500">Saldo: {{ account.balance | currency:'USD' }}</span>
        </div>
        <table class="w-full text-sm">
          <thead>
            <tr class="text-xs text-gray-400 border-b border-gray-100">
              <th class="px-3 py-1 text-left">Fecha</th>
              <th class="px-3 py-1 text-left">Ref</th>
              <th class="px-3 py-1 text-right">Debe</th>
              <th class="px-3 py-1 text-right">Haber</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-50">
            @for (mov of account.movements; track mov.ref) {
              <tr>
                <td class="px-3 py-2 text-gray-500 text-xs">{{ mov.date }}</td>
                <td class="px-3 py-2 text-indigo-600 cursor-pointer hover:underline">{{ mov.ref }}</td>
                <td class="px-3 py-2 text-right">{{ mov.debit || '-' }}</td>
                <td class="px-3 py-2 text-right">{{ mov.credit || '-' }}</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
  </div>

</div>